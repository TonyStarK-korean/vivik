# BB600 íŠ¸ë ˆì¼ë§ ìŠ¤íƒ‘ ì‹œìŠ¤í…œ êµ¬í˜„ ì™„ë£Œ ë³´ê³ ì„œ

## ğŸ¯ ìš”êµ¬ì‚¬í•­ ë¶„ì„
**ì‚¬ìš©ì ìš”ì²­**: "ì²­ì‚°ë¡œì§ì—ì„œ ê¸°ì¡´ì˜ 15ë¶„ë´‰/30ë¶„ë´‰ bb600ìƒë‹¨ì„  ëŒíŒŒì‹œ ë¹„ì¤‘ 50% ì²­ì‚°í•˜ëŠ” ë¡œì§ì„ 5ë¶„ë´‰/15ë¶„ë´‰/30ë¶„ë´‰ìƒ ìº”ë“¤ ê³ ì ì´ bb600ìƒë‹¨ì„  ëŒíŒŒì‹œ 50%ìµì ˆí•˜ê³  ê·¸ë•Œë¶€í„° íŠ¸ë ˆì¼ë§ìŠ¤íƒ‘ ë§¤ë§¤ ì ìš©í•˜ëŠ”ê²ƒìœ¼ë¡œ ìˆ˜ì •í•´ì¤˜"

## âœ… êµ¬í˜„ ì™„ë£Œ ì‚¬í•­

### 1. DCAPosition í´ë˜ìŠ¤ í™•ì¥ (improved_dca_position_manager.py:110-113)
```python
# íŠ¸ë ˆì¼ë§ ìŠ¤íƒ‘ ê´€ë ¨ í•„ë“œ
trailing_stop_active: bool = False  # íŠ¸ë ˆì¼ë§ ìŠ¤íƒ‘ í™œì„±í™” ì—¬ë¶€
trailing_stop_high: float = 0.0     # íŠ¸ë ˆì¼ë§ ìŠ¤íƒ‘ ìµœê³ ê°€ ì¶”ì 
trailing_stop_percentage: float = 0.05  # íŠ¸ë ˆì¼ë§ ìŠ¤íƒ‘ ë¹„ìœ¨ (5%)
```

### 2. BB600 ì²­ì‚° ë¡œì§ ì™„ì „ ì¬ì‘ì„± (lines 2569-2641)
**ê¸°ì¡´**: 15ë¶„ë´‰/30ë¶„ë´‰ í˜„ì¬ê°€ ê¸°ì¤€ BB600 ëŒíŒŒì‹œ 50% ì²­ì‚°
**ì‹ ê·œ**: 5ë¶„ë´‰/15ë¶„ë´‰/30ë¶„ë´‰ ìº”ë“¤ ê³ ì  ê¸°ì¤€ BB600 ëŒíŒŒì‹œ 50% ìµì ˆ + íŠ¸ë ˆì¼ë§ ìŠ¤íƒ‘ í™œì„±í™”

**ì£¼ìš” ë³€ê²½ì‚¬í•­**:
- ì‹œê°„í”„ë ˆì„ í™•ì¥: 15m/30m â†’ 5m/15m/30m
- íŒë‹¨ ê¸°ì¤€ ë³€ê²½: í˜„ì¬ê°€ â†’ ìº”ë“¤ ê³ ì 
- ì²­ì‚° ë°©ì‹ ë³€ê²½: ë‹¨ìˆœ 50% ì²­ì‚° â†’ 50% ìµì ˆ + íŠ¸ë ˆì¼ë§ ìŠ¤íƒ‘ ì‹œì‘

### 3. íŠ¸ë ˆì¼ë§ ìŠ¤íƒ‘ ë©”ì»¤ë‹ˆì¦˜ êµ¬í˜„ (lines 2647-2696)
```python
def _check_trailing_stop(self, symbol: str, current_price: float, position: DCAPosition):
    # ìµœê³ ê°€ ì¶”ì  ë° ì—…ë°ì´íŠ¸
    if current_price > position.trailing_stop_high:
        position.trailing_stop_high = current_price
    
    # 5% í•˜ë½ì‹œ íŠ¸ë¦¬ê±°
    trailing_stop_price = position.trailing_stop_high * (1 - position.trailing_stop_percentage)
    if current_price <= trailing_stop_price:
        # ë‚˜ë¨¸ì§€ 50% ì²­ì‚° ì‹¤í–‰
        return trailing_stop_exit_signal
```

### 4. ì²­ì‚° ìƒíƒœ ê´€ë¦¬ í†µí•© (lines 2905-2913)
```python
elif exit_type == ExitType.BB600_PARTIAL_EXIT.value:
    position.bb600_exit_done = True
    # íŠ¸ë ˆì¼ë§ ìŠ¤íƒ‘ì´ í™œì„±í™”ëœ ê²½ìš° ìœ ì§€
    if exit_signal and 'trailing_stop_activated' in exit_signal:
        self.logger.info(f"ğŸ”„ íŠ¸ë ˆì¼ë§ ìŠ¤íƒ‘ í™œì„±í™” ìœ ì§€: {symbol}")
elif exit_type == 'trailing_stop_exit':
    # íŠ¸ë ˆì¼ë§ ìŠ¤íƒ‘ìœ¼ë¡œ ë‚˜ë¨¸ì§€ 50% ì²­ì‚° ì™„ë£Œ
    position.trailing_stop_active = False
```

### 5. ê¸°ì¡´ í¬ì§€ì…˜ í˜¸í™˜ì„± ë³´ì¥ (lines 267-273)
```python
# íŠ¸ë ˆì¼ë§ ìŠ¤íƒ‘ í•„ë“œ ë§ˆì´ê·¸ë ˆì´ì…˜ (ê¸°ì¡´ í¬ì§€ì…˜ í˜¸í™˜ì„±)
if 'trailing_stop_active' not in pos_data:
    pos_data['trailing_stop_active'] = False
if 'trailing_stop_high' not in pos_data:
    pos_data['trailing_stop_high'] = 0.0
if 'trailing_stop_percentage' not in pos_data:
    pos_data['trailing_stop_percentage'] = 0.05
```

### 6. í…”ë ˆê·¸ë¨ ì•Œë¦¼ ì‹œìŠ¤í…œ í†µí•©
- BB600 ëŒíŒŒ + íŠ¸ë ˆì¼ë§ ìŠ¤íƒ‘ í™œì„±í™” ì•Œë¦¼ (lines 2614-2623)
- íŠ¸ë ˆì¼ë§ ìŠ¤íƒ‘ ì²­ì‚° ì•Œë¦¼ (lines 2672-2681)
- ìµœê³ ê°€ ê°±ì‹  ë””ë²„ê·¸ ë¡œê·¸ (line 2657)

## ğŸ“Š ìƒˆë¡œìš´ BB600 ì²­ì‚° ì „ëµ ì›Œí¬í”Œë¡œìš°

1. **BB600 ëŒíŒŒ ê°ì§€**: 5ë¶„ë´‰/15ë¶„ë´‰/30ë¶„ë´‰ ìº”ë“¤ ê³ ì ì´ BB600 ìƒë‹¨ì„  ëŒíŒŒ
2. **ì¦‰ì‹œ 50% ìµì ˆ**: ì²« ë²ˆì§¸ ìˆ˜ìµ ì‹¤í˜„
3. **íŠ¸ë ˆì¼ë§ ìŠ¤íƒ‘ í™œì„±í™”**: ë‚¨ì€ 50% í¬ì§€ì…˜ì— ëŒ€í•´ ì¶”ì  ì‹œì‘
4. **ìµœê³ ê°€ ì¶”ì **: ê°€ê²© ìƒìŠ¹ì‹œ ì§€ì†ì ìœ¼ë¡œ ìµœê³ ê°€ ì—…ë°ì´íŠ¸
5. **5% í•˜ë½ì‹œ ì²­ì‚°**: ìµœê³ ê°€ ëŒ€ë¹„ 5% í•˜ë½ì‹œ ë‚¨ì€ 50% ì „ëŸ‰ ì²­ì‚°

## ğŸ”„ ê¸°ì¡´ ì‹œìŠ¤í…œê³¼ì˜ í†µí•©

### ì²­ì‚° ë°©ì‹ ì—…ë°ì´íŠ¸ (one_minute_surge_entry_strategy.py:52)
```
4. BB600 íŠ¸ë ˆì¼ë§ ìŠ¤íƒ‘: 5ë¶„ë´‰/15ë¶„ë´‰/30ë¶„ë´‰ ìº”ë“¤ ê³ ì ì´ BB600 ìƒë‹¨ì„  ëŒíŒŒì‹œ 50% ìµì ˆ â†’ ë‚˜ë¨¸ì§€ 50%ëŠ” íŠ¸ë ˆì¼ë§ ìŠ¤íƒ‘(5% í•˜ë½) ì ìš©
```

### í˜„ì¬ í™œì„± í¬ì§€ì…˜ í˜„í™©
- 7ê°œ í™œì„± í¬ì§€ì…˜ í™•ì¸
- ëª¨ë“  í¬ì§€ì…˜ì´ ê¸°ì¡´ í•„ë“œë§Œ ë³´ìœ  (trailing_stop í•„ë“œ ì—†ìŒ)
- ë§ˆì´ê·¸ë ˆì´ì…˜ ë¡œì§ìœ¼ë¡œ ìë™ í˜¸í™˜ì„± ë³´ì¥

## ğŸš€ ì‹œìŠ¤í…œ ì¤€ë¹„ ìƒíƒœ

âœ… **ì½”ë“œ êµ¬í˜„ ì™„ë£Œ**: ëª¨ë“  íŠ¸ë ˆì¼ë§ ìŠ¤íƒ‘ ë¡œì§ êµ¬í˜„ ì™„ë£Œ  
âœ… **í˜¸í™˜ì„± ë³´ì¥**: ê¸°ì¡´ í¬ì§€ì…˜ ë§ˆì´ê·¸ë ˆì´ì…˜ ë¡œì§ ì™„ë¹„  
âœ… **ì•Œë¦¼ ì‹œìŠ¤í…œ**: í…”ë ˆê·¸ë¨ í†µí•© ì™„ë£Œ  
âœ… **ë¬¸ì„œ ì—…ë°ì´íŠ¸**: ì „ëµ ì„¤ëª… ê°±ì‹  ì™„ë£Œ  

**ì‹œìŠ¤í…œ ìƒíƒœ**: ë°°í¬ ì¤€ë¹„ ì™„ë£Œ - ìƒˆë¡œìš´ BB600 íŠ¸ë ˆì¼ë§ ìŠ¤íƒ‘ ì „ëµ ì¦‰ì‹œ ì‚¬ìš© ê°€ëŠ¥

## ğŸ“ˆ ê¸°ëŒ€ íš¨ê³¼

1. **ìˆ˜ìµ ìµœì í™”**: 2ë‹¨ê³„ ì²­ì‚°ìœ¼ë¡œ ìƒìŠ¹ ì¶”ì„¸ ìµœëŒ€ í™œìš©
2. **ë¦¬ìŠ¤í¬ ê´€ë¦¬**: íŠ¸ë ˆì¼ë§ ìŠ¤íƒ‘ìœ¼ë¡œ í•˜ë°© ë¦¬ìŠ¤í¬ ì œí•œ
3. **ì •ë°€ë„ í–¥ìƒ**: ìº”ë“¤ ê³ ì  ê¸°ì¤€ìœ¼ë¡œ ë” ì •í™•í•œ ëŒíŒŒ ê°ì§€
4. **ìœ ì—°ì„± ì¦ëŒ€**: 5ë¶„ë´‰ê¹Œì§€ í¬í•¨í•˜ì—¬ ë” ë¹ ë¥¸ ì‹ í˜¸ í¬ì°©