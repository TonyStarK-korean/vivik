# Binance 연결 실패 해결 방법

## 문제 진단 결과

**근본 원인**: Python 3.10 32-bit의 OpenSSL 1.1.1t가 Binance의 최신 SSL/TLS 서버와 호환되지 않음

**에러 메시지**: `ssl.SSLEOFError: EOF occurred in violation of protocol`

---

## 해결 방법 (우선순위 순)

### ✅ 방법 1: Python 64-bit로 업그레이드 (가장 권장)

**이유**: Python 32-bit는 최신 SSL/TLS 프로토콜과 호환성 문제가 있습니다.

**단계**:
1. Python 3.10 또는 3.11 64-bit 다운로드
   - https://www.python.org/downloads/
   - "Download Windows installer (64-bit)" 선택

2. 설치 시 "Add Python to PATH" 체크

3. 기존 패키지 재설치:
   ```bash
   pip install ccxt pandas numpy python-binance
   ```

4. 스크립트 재실행

**장점**:
- 근본적인 문제 해결
- 최신 SSL/TLS 지원
- 향후 다른 API 호환성 향상
- 더 나은 성능

**단점**:
- 재설치 필요 (약 30분 소요)

---

### 🔧 방법 2: python-binance 라이브러리 사용 (임시 해결책)

`ccxt` 대신 `python-binance` 라이브러리를 사용하면 일부 환경에서 작동할 수 있습니다.

**설치**:
```bash
pip install python-binance
```

**테스트 스크립트 실행**:
```bash
python test_python_binance.py
```

**장점**:
- 재설치 불필요
- 빠른 테스트 가능

**단점**:
- 완전한 해결 보장 안됨
- 동일한 SSL 문제 발생 가능성

---

### 🌐 방법 3: 다른 네트워크 환경 시도

**가능한 시도**:
1. VPN 사용 (다른 지역 서버로 연결)
2. 다른 인터넷 연결 (모바일 핫스팟 등)
3. 방화벽/안티바이러스 임시 비활성화
4. 프록시 서버 사용

**장점**:
- 추가 설치 불필요

**단점**:
- 근본적인 해결책이 아님
- 성공 확률 낮음

---

### 🔬 방법 4: 윈도우 업데이트 및 인증서 갱신

**단계**:
1. 윈도우 업데이트 실행
2. 루트 인증서 업데이트:
   ```bash
   certutil -generateSSTFromWU roots.sst
   ```

**장점**:
- 시스템 전체 보안 향상

**단점**:
- Python 32-bit 근본 문제는 해결 안됨

---

## 권장 사항

### 🎯 최우선 권장: Python 64-bit 업그레이드

현재 사용 중:
- Python 3.10.11 **32-bit**
- OpenSSL 1.1.1t (2023년 2월 버전 - 구버전)

권장 환경:
- Python 3.11 또는 3.12 **64-bit**
- 내장된 최신 OpenSSL 지원

### 📝 업그레이드 체크리스트

1. [ ] Python 64-bit 다운로드 및 설치
2. [ ] 기존 프로젝트 의존성 재설치
   ```bash
   pip install -r requirements.txt
   ```
   또는
   ```bash
   pip install ccxt pandas numpy python-binance
   ```
3. [ ] 연결 테스트
   ```bash
   python test_binance_connection.py
   ```
4. [ ] 메인 전략 스크립트 실행
   ```bash
   python one_minute_surge_entry_strategy.py
   ```

---

## 긴급 임시 해결책

Python 재설치가 불가능한 경우, 아래 대안을 시도해보세요:

### A. python-binance 라이브러리 사용

```bash
pip install python-binance
python test_python_binance.py
```

### B. 웹소켓 전용 모드

일부 기능 제한되지만 웹소켓은 작동할 수 있습니다.

### C. 바이낸스 API 프록시 서비스

타사 프록시 서비스를 통해 API 호출 (보안 주의 필요)

---

## 추가 도움말

문제가 계속되면:
1. `test_binance_connection.py` 실행 결과 확인
2. 에러 로그 저장
3. Binance API 상태 확인: https://www.binance.com/en/support/announcement
4. ccxt GitHub Issues 확인: https://github.com/ccxt/ccxt/issues

---

## 요약

| 방법 | 성공률 | 시간 | 난이도 | 권장도 |
|------|--------|------|--------|--------|
| Python 64-bit 업그레이드 | 95% | 30분 | 쉬움 | ⭐⭐⭐⭐⭐ |
| python-binance 사용 | 40% | 5분 | 쉬움 | ⭐⭐⭐ |
| 네트워크 변경 | 20% | 10분 | 중간 | ⭐⭐ |
| 인증서 갱신 | 10% | 15분 | 중간 | ⭐ |

**최종 권장**: Python 64-bit로 업그레이드하세요! 🚀
